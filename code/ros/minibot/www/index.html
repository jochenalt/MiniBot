<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="icon" href="/minibot/favicon.ico" type="image/x-icon">
        <meta charset="utf-8" />
        <meta http-equiv="Cache-control" content="no-cache, no-store, must-revalidate">
        <meta http-equiv="Pragma" content="no-cache">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <!-- robotwebtools libraries -->
        <script src="http://static.robotwebtools.org/threejs/current/three.min.js"></script>
        <script src="http://static.robotwebtools.org/threejs/r89/ColladaLoader.js"></script>
        <script src="http://static.robotwebtools.org/threejs/r89/STLLoader.js"></script>
        <script src="http://static.robotwebtools.org/EventEmitter2/0.4.14/eventemitter2.js"></script>
        <script src="http://static.robotwebtools.org/roslibjs/current/roslib.js"></script>
        <script src="http://static.robotwebtools.org/ros3djs/current/ros3d.min.js"></script>
        <!-- base libraries -->
        <script language="JavaScript" src="/minibot/constants.js"></script>
        <script language="JavaScript" src="/minibot/utils.js"></script>
        <script language="JavaScript" src="/minibot/kinematics.js"></script>
        <!-- Panels -->
        <script language="JavaScript" src="/minibot/kinematicsPanel.js"></script>
        <script language="JavaScript" src="/minibot/poseStorePanel.js"></script>
        <script language="JavaScript" src="/minibot/programmePanel.js"></script>
        <script language="JavaScript" src="/minibot/robotPanel.js"></script>
        <script language="JavaScript" src="/minibot/settingsPanel.js"></script>
        <!-- bootstrap4 -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="/minibot/bootstrap-cyborg.min.css">
        <script>
            var botUrdfView;            // view of URDF
            var kinematicsPanel;        // panel for  kinematics
            var poseStorePanel;         // panel for managing poses
            var programmePanel;         // panel for pro<gramme
            var settingsPanel;          // panel for configuration
            var robotPanel;             // panel for the robot
            var kinematics;             // kinematics library
            
            // set the theme by loading the css file and reinstatitation the robotview with a proper background
            function setGlobalTheme(str) {
                 var cssfile;
                 var robotViewColor;
                 var theme = str.replace("Theme", "");
                  for (var i = 0;i<Constants.Themes.Name.length;i++) {
                    if (theme == Constants.Themes.Name[i]) {
                        robotViewColor = Constants.Themes.BackgroundColor[i];
                        cssfile = "/minibot/bootstrap-" + theme + ".min.css";
                        break;
                    }
                 }

                 if (cssfile == null) {
                    robotViewColor = '#222222'; 
                    cssfile = "/minibot/bootstrap-cyborg.min.css"
                    theme = "cyborgTheme";
                 }

                 var fileref=document.createElement("link")
                 fileref.setAttribute("rel", "stylesheet")
                 fileref.setAttribute("type", "text/css")
                 fileref.setAttribute("href", cssfile)
                 if (typeof fileref!="undefined")
                      document.getElementsByTagName("head")[0].appendChild(fileref)
            
                 // delete the old robotview (unless it is the first call)
                 urdfView = document.getElementById("urdf")
                 if (urdfView != null) {
                      viewer = urdfView.childNodes[0];
                      if (viewer != null) {
                            urdfView.removeChild(viewer);
                        }
                 }
            
                 // re instantiate robot view
                 robotPanel.initialize(robotViewColor);
            }

          
            // will be called after loading the DOM tree 
            function init() {

                 // turn screen off until everyting is loaded 
                 turnScreenOff();

                 kinematics = new Kinematics.Init({
                     ros: ros
                 });
            
                 kinematicsPanel = new KinematicsPanel.Init({
                    ros: ros
                 });
            
                 poseStorePanel  = new PoseStorePanel.Init({
                         ros: ros,
                         kinematicsPanel: kinematicsPanel,
                         kinematics: kinematics
                 });
            
                 programmePanel  = new ProgrammePanel.Init({
                         ros: ros,
                         kinematicsPanel: kinematicsPanel,
                         kinematics: kinematics,
                         poseStorePanel : poseStorePanel,
                         settingsPanel : settingsPanel
                 });
                 settingsPanel.setKinematicsPanel(kinematicsPanel);
                 settingsPanel.setPoseStorePanel(poseStorePanel);
                 settingsPanel.setProgrammePanel(poseStorePanel);
                 poseStorePanel.setProgrammePanel(programmePanel);
            
                 // kinematics panel needs to load the robot model first before the unit can be changed 
                 setTimeout(function() {
                    settingsPanel.setWidgets();                    
                    programmePanel.refresh();

                    // initialize planning view
                    switchToPlan();

                    // and call the theme again to display the robot view 
                    settingsPanel.callSetGlobalTheme();
                 }, 1500);
            
                 window.addEventListener("resize", resize);
            

                 // size of poseStore panel and programme panel is computed in resize
                 resize();
            }
            
            function resize() {
                 var outerBorder = document.getElementById("RobotViewOuter").offsetHeight;
                 var innerBorder= document.getElementById("RobotView").offsetHeight;
                 var spacer = (outerBorder-innerBorder)/2;
            
                 // resize the pose list
                 var hList = document.getElementById("posePanel").offsetHeight - document.getElementById("poseButtonPanel").offsetHeight - spacer*28;
                 document.getElementById("poseListGroup").style.height = hList.toString() +"px";
            
                 // resize the programme list
                 var hList = document.getElementById("planningPanel").offsetHeight - document.getElementById("programmButtonPanel").offsetHeight - spacer*20;
                 document.getElementById("statementListGroup").style.height = hList.toString() +"px";    
            
                 // resize robot view
                 var w = document.getElementById("RobotView").offsetWidth;
                 var h = document.getElementById("RobotView").offsetHeight
                 // botUrdfView.resize(w, h); // leave some space for the border of the container
            };        
            
            function switchVisibility (widget, on) {
                 var cl = document.getElementById(widget).classList;
                 if (on) {
                      cl.add('d-none');
                      cl.remove('d-flex'); // bootstrap: d-none works only, if d-flex is removed  
                 } 
                 else {
                      cl.add('d-flex');
                      cl.remove('d-none');                    
                 }
            }
            
            function switchToPlan() {
                 switchVisibility('RobotView', false);
                 switchVisibility('settingsPanel', true);
                 switchVisibility('kinematicsPanel',false);
                 switchVisibility('posePanel', false);
                 switchVisibility('planningPanel', false);
            }
            function switchToSettings() {
                 switchVisibility('RobotView', false);
                 switchVisibility('settingsPanel', false);
                 switchVisibility('kinematicsPanel',false);
                 switchVisibility('posePanel', true);
                 switchVisibility('planningPanel', true);
            }

            function turnScreenOff() {
                 switchVisibility('RobotView', true);
                 switchVisibility('settingsPanel', true);
                 switchVisibility('kinematicsPanel',true);
                 switchVisibility('posePanel', true);
                 switchVisibility('planningPanel', true);
            }


            // the following can be done before the body is loaded, since it does not require a full DOM tree

            // estabish connection to ROS
            var serverName = window.location.href.replace("http://","").split(":")[0]
            var ros = new ROSLIB.Ros({
                 url: 'ws://' + serverName + ':9090'
            });
            
            // initialize settings panel
            settingsPanel = new SettingsPanel.Init({
                 ros: ros
            });
            settingsPanel.setGlobalThemeFunction (setGlobalTheme);
            
            robotPanel = new RobotPanel.Init( {
                 ros : ros
            })

            var settings = settingsPanel.readConfiguration(
                 function(settings) {
                      setGlobalTheme(settings.theme); 
                 }, 
                 function (result) { 
                      alert ("could not read the configuration from database : " + result)
                 });  

        </script>
    </head>
    <body onload="init()">
        <div id="root" class="container-fluid  d-flex flex-column m-0 ml-3 p-0" style="height:98vh;width:98vw;" >
            <div class="row  m-0 p-0">
                <div class="col m-0 p-0">
                    <nav id="navbar" class="navbar navbar-expand-md m-0 p-0 ">
                        <div class="mx-auto order-0 ml-0 p-0">
                            <big><a class="navbar-brand mx-auto ml-0 p-0" href="#">Minibot</a></big>
                        </div>
                        <div class="navbar-collapse collapse w-100 order-3 m-0 dual-collapse2">
                            <ul class="navbar-nav ml-auto m-0 ">
                                <li class="nav-item">
                                    <a class="nav-link" href="#" onclick="switchToPlan()">Plan</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#">Execute</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#" onclick="switchToSettings()">Settings</a>
                                </li>
                            </ul>
                        </div>
                    </nav>
                </div>
            </div>
            <div class="row flex-grow-1 m-0 p-0">
                <div id="RobotViewOuter" class="col-6 d-flex p-0 m-0">
                    <div  id="RobotView" class="col bg-light border my-1 ml-0 mr-1 p-0">
                        <div id="urdf" class=" p-0 m-0" ></div>
                    </div>
                </div>
                <div id="kinematicsPanel" class="row d-flex col-2 mx-0 p-0">
                    <div class="row d-flex bg-light border my-1 ml-0 mr-1 p-0">
                        <div class="w-100  mx-1 mt-1 mb-0 px-2" style="height:1rem;" >
                            <div class='w-100 my-0 py-0 h-25 ' id='kinematicsAlertHeadline'  role='alert' >Kinematics</div>
                            <div class='col alert alert-success w-100 my-0 py-0  ' style='display:none;' 
                                id='kinematicsAlertSuccess' role='alert'/></div>
                            <div class='col alert alert-danger w-100 my-0 py-0  ' style='display:none;' 
                                id='kinematicsAlertError' role='alert'/></div>
                            <div class='col alert alert-warning w-100 my-0 py-0  ' style='display:none;' 
                                id='kinematicsAlertWarning' role='alert'/></div>
                        </div>
                        <div class="container w-100 ">
                            <div class="row  ">
                                <div class="col">
                                    <small>x [mm]</small>
                                    <div class="input-group input-group-sm m-0">
                                        <input type="text" class="form-control input-sm" id="coord_x_text" >
                                    </div>
                                    <input type="range" class="custom-range" id="coord_x_slider">
                                </div>
                                <div class="col">
                                    <small id="orientXUnitText">x [rad]</small>
                                    <div class="input-group input-group-sm m-0">
                                        <input type="text" class="form-control input-sm" id="orientation_x_text">
                                    </div>
                                    <input type="range" class="custom-range" id="orientation_x_slider">
                                </div>
                            </div>
                            <div class="row ">
                                <div class="col">
                                    <small>y [mm]</small>
                                    <div class="input-group input-group-sm m-0">
                                        <input type="text" class="form-control input-sm" id="coord_y_text">
                                    </div>
                                    <input type="range" class="custom-range" id="coord_y_slider">
                                </div>
                                <div class="col ">
                                    <small id="orientYUnitText" >y [rad]</small>
                                    <div class="input-group input-group-sm m-0">
                                        <input type="text" class="form-control input-sm" id="orientation_y_text">
                                    </div>
                                    <input type="range" class="custom-range" id="orientation_y_slider">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col ">
                                    <small>z [mm]</small>
                                    <div class="input-group input-group-sm m-0">
                                        <input type="text" class="form-control input-sm" id="coord_z_text">
                                    </div>
                                    <input type="range" class="custom-range" id="coord_z_slider">
                                </div>
                                <div class="col ">
                                    <small id="orientZUnitText">z [rad]</small>
                                    <div class="input-group input-group-sm m-0">
                                        <input type="text" class="form-control input-sm" id="orientation_z_text">
                                    </div>
                                    <input type="range" class="custom-range" id="orientation_z_slider">
                                </div>
                            </div>
                        </div>
                        <div class="container w-100">
                            <div class="w-100">
                                <div class="row">
                                    <div class="col ">
                                        <small>Base</small>
                                        <div class="input-group input-group-sm">
                                            <input type="text" class="form-control input-sm" id="base_joint_text">
                                        </div>
                                        <input type="range" class="custom-range" id="base_joint_slider">
                                    </div>
                                    <div class="col">
                                        <small>Shoulder</small>
                                        <div class="input-group input-group-sm">
                                            <input type="text" class="form-control input-sm" id="shoulder_joint_text">
                                        </div>
                                        <input type="range" class="custom-range" id="shoulder_joint_slider">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <small>Upperarm</small>
                                        <div class="input-group  input-group-sm">
                                            <input type="text" class="form-control input-sm" id="upperarm_joint_text">
                                        </div>
                                        <input type="range" class="custom-range" id="upperarm_joint_slider">
                                    </div>
                                    <div class="col">
                                        <small>Elbow</small>
                                        <div class="input-group input-group-sm">
                                            <input type="text" class="form-control input-sm" id="elbow_joint_text">
                                        </div>
                                        <input type="range" class="custom-range" id="elbow_joint_slider">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <small>Forearm</small>
                                        <div class="input-group input-group-sm">
                                            <input type="text" class="form-control input-sm" id="forearm_joint_text">
                                        </div>
                                        <input type="range" class="custom-range" id="forearm_joint_slider">
                                    </div>
                                    <div class="col">
                                        <small>Wrist</small>
                                        <div class="input-group  input-group-sm">
                                            <input type="text" class="form-control input-sm" id="wrist_joint_text">
                                        </div>
                                        <input type="range" class="custom-range" id="wrist_joint_slider">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="container w-100">
                            <div class="w-100">
                                <div class="row">
                                    <div class="col w-100">
                                        <small>Knuckle</small>
                                        <div class="input-group input-group-sm">
                                            <input type="text" class="form-control input-sm" id="knuckle_joint_text">
                                        </div>
                                        <input type="range" class="custom-range" id="knuckle_joint_slider">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <small>Grip</small>
                                        <div class="input-group input-group-sm">
                                            <input type="text" class="form-control input-sm" id="finger_joint_text">
                                        </div>
                                        <input type="range" class="custom-range" id="finger_joint_slider">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="w-100 row  p-0 m-0 mb-3 d-flex btn-group ">
                            <div class="col align-self-end w-100 m-0 p-0">
                                <div class="btn-group col  ">
                                    <button type="button" class="btn-sm btn-primary w-100" onclick="kinematicsPanel.setZeroPosition()">Zero Position</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="posePanel" class="row d-flex col-2 mx-0 p-0">
                    <div class="row d-flex bg-light border my-1 ml-0 mr-1 p-0 vw-100">
                        <div class="col w-100 p-0 m-0 " >
                            <div class="w-100 mx-1 mt-1 mb-0 px-2 " style="height:1rem;">
                                <div class='w-100 my-0 py-0' 
                                    id='poseStorageAlertHeadline' role='alert'/>Posing</div>
                                <div class='col alert alert-success w-100 my-0 py-0' style='display:none;' 
                                    id='poseStorageAlertSuccess' role='alert'/></div>
                                <div class='col alert alert-danger w-100 my-0 py-0' style='display:none;' 
                                    id='poseStorageAlertError' role='alert'/></div>
                                <div class='col alert alert-warning w-100 my-0 py-0' style='display:none;' 
                                    id='poseStorageAlertWarning' role='alert'/></div>
                            </div>
                            <div id="poseListGroup" class="overflow-auto mt-4 mx-2" >
                                <ul class="list-group"  id="poseStoreList">
                                </ul>
                            </div>
                        </div>
                        <div class="w-100 row mx-2 d-flex align-self-end">
                            <div id="poseButtonPanel" class="col  w-100 m-0 p-0 pb-3">
                                <div class="btn-group col p-0 ">
                                    <button type="button" class="btn-sm btn-primary w-100" onclick="poseStorePanel.newPose()">New</button>
                                    <button type="button" class="btn-sm btn-primary w-100" onclick="poseStorePanel.storePose()">Store</button>
                                    <button type="button" class="btn-sm btn-primary w-100" onclick="poseStorePanel.deletePose()">Delete</button>
                                </div>
                                <div class="btn-group col p-0">
                                    <button type="button" class="btn-sm btn-secondary w-100" onclick="poseStorePanel.renamePose()">Rename</button>
                                    <button type="button" class="btn-sm btn-secondary w-100" onclick="poseStorePanel.up()">Up</button>
                                    <button type="button" class="btn-sm btn-secondary w-100" onclick="poseStorePanel.down()">Down</button>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <div id="planningPanel" class="row d-flex col-2 mx-0 p-0">
                    <div class="row d-flex bg-light border my-1 ml-0 mr-0 p-0">
                        <div class="col w-100 p-0 m-0 " >
                            <div class="w-100 mx-1 mt-1 mb-0 px-2 " style="height:1rem;">
                                <div class='w-100 my-0 py-0' 
                                    id='programmeAlertHeadline' role='alert'/>Programme</div>
                                <div class='col alert alert-success w-100 my-0 py-0' style='display:none;' 
                                    id='programmeAlertSuccess' role='alert'/></div>
                                <div class='col alert alert-danger w-100 my-0 py-0' style='display:none;' 
                                    id='programmeAlertError' role='alert'/></div>
                                <div class='col alert alert-warning w-100 my-0 py-0' style='display:none;' 
                                    id='programmeAlertWarning' role='alert'/></div>
                            </div>
                            <div id="statementListGroup" class="overflow-auto mt-4 mx-2 mb-0" >
                                <ul class="list-group"  id="programmeList">
                                </ul>
                            </div>
                        </div>

                        <div id="programmButtonPanel" class="w-100 row mx-2  d-flex align-self-end ">
                            <div class="row w-100 ml-0 p-0"  style="height:25vh;" >
                                <div class="p-0 m-0" id='detailsWaypointStatement'  style="display:none;">
                                    <small>Waypoint</small>
                                    <div class="mt-2 p-0">
                                        <div class='col alert alert-danger w-100 my-0 py-0' style='display:none;' 
                                            id='waypointError' role='alert'/></div>
                                        <small>Path Strategy</small>
                                    </div>
                                    <div>
                                        <div class="custom-control custom-radio custom-control-inline">
                                            <input id="spacePath" type="radio" class="custom-control-input" name="pathStrategy" onchange="programmePanel.setPathStrategy(event)" checked>
                                            <label class="custom-control-label" for="spacePath">space</label>
                                        </div>
                                        <div class="custom-control custom-radio custom-control-inline">
                                            <input id="cartesicPath" type="radio" class="custom-control-input" name="pathStrategy" onchange="programmePanel.setPathStrategy(event)">
                                            <label class="custom-control-label" for="cartesicPath">cartesic </label>
                                        </div>
                                        <div class="custom-control custom-radio custom-control-inline">
                                            <input id="splinePath" type="radio" class=" custom-control-input" name="pathStrategy" onchange="programmePanel.setPathStrategy(event)">
                                            <label class="custom-control-label" for="splinePath">spline</label>
                                        </div>
                                    </div>
                                    <div class="mt-3">
                                        <div class="form-check form-check-inline">
                                            <input id="collisionCheck" type="checkbox" class="form-check-input" onclick="programmePanel.setCollisionCheck(event)">
                                            <label class="form-check-label" for="collisionCheck">collision check</label>
                                        </div>
                                        <div class="btn-group col my-2 p-0">
                                            <button type="button" class="btn-sm btn-primary w-100" onclick='programmePanel.assignActivePose()'>Assign active pose</button>
                                        </div>
                                    </div>
                                </div>
                                <div class='p-0 m-0' id='detailsWaitStatement' style="display:none;">
                                    <small>Wait</small>
                                    <div class='form-check'>
                                        <div class="custom-control custom-radio">
                                            <input id="dontWait" type="radio" class="custom-control-input"  name="WaitStatementType" onchange='programmePanel.setWaitTypeNoWait(event)' checked/>
                                            <label class="custom-control-label" for="dontWait">No Wait</label>
                                        </div>
                                        <div class="custom-control custom-radio">
                                            <input id="waitForSeconds" type="radio" class="custom-control-input"  name="WaitStatementType" onchange='programmePanel.setWaitTypeWaitForSeconds(event)'/>
                                            <label class="custom-control-label" for="waitForSeconds">Wait for </label>
                                            <div class="input-group">
                                                <input id="secondsToWait" type="text" class="form-control w-2" placeholder="0" oninput='programmePanel.setWaitingSeconds(event)'/>
                                                <div class="input-group-append">
                                                    <span class="input-group-text">seconds</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="custom-control custom-radio">
                                            <input id="waitForConfirmation"  type="radio" class="custom-control-input"  name="WaitStatementType" 
                                                oninput="programmePanel.setWaitTypeWaitForConfirmation(event)"/>
                                            <label class="custom-control-label" for="waitForConfirmation">Wait for confirmation </label>
                                            <div class="input-group">
                                                <textarea id ='waitConfirmationText' class='form-control' placeholder='valuable advice' onkeydown='programmePanel.setConfirmationText(event)'></textarea>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="p-0 m-0" id='detailsCommentStatement' style="display:none;">
                                    <small>Comment</small>
                                    <div class="input-group">
                                        <textarea id="commentStatement" class="form-control input-sm" placeholder="valuable advice" oninput="programmePanel.setComment(event)"></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="w-100 p-0 m-0">
                                <div class="col p-0 m-0"><small>Visiualize Plan</small></div>
                                <div class="col mb-3 m-0">
                                    <div class="form-check form-check-inline px-0">
                                        <input  id="visualizeLocalPlan" class="form-check-input " type="checkbox" value="0" onchange="programmePanel.visualizeLocalPlan(event)" checked>
                                        <label class="form-check-label" for="viewLocalPlan">
                                            Display local Plan
                                        </label>                                
                                    </div>
                                    <div class="form-check form-check-inline px-0">
                                        <input id="visualizeGlobalPlan" class="form-check-input" type="checkbox" value="0" onchange="programmePanel.visualizeGlobalPlan(event)" checked>
                                        <label class="form-check-label" for="viewGlobalPlan" >
                                            Display global Plan  
                                        </label>                                
                                    </div>
                                </div>
                            </div>
                            <div class="w-100 p-0 m-0">
                                <div class=" col p-0"><small>Action Management</small></div>
                                <div class=" btn-group col p-0">
                                    <button type="button" class="btn-sm btn-primary w-100" onclick="programmePanel.newWaypoint()">Waypoint</button>
                                    <button type="button" class="btn-sm btn-primary w-100" onclick="programmePanel.newWait()" >Wait</button>
                                    <button type="button" class="btn-sm btn-primary w-100" onclick="programmePanel.newComment()">Comment</button>
                                </div>
                                <div class="btn-group col p-0">
                                    <button type="button" class="btn-sm btn-secondary w-100" onclick="programmePanel.deleteStatement()">Delete</button>
                                    <button type="button" class="btn-sm btn-secondary w-100" onclick="programmePanel.rename()">Rename</button>
                                </div>
                                <div class="btn-group col p-0">
                                    <button type="button" class="btn-sm btn-secondary w-100" onclick="programmePanel.up()">Up</button>
                                    <button type="button" class="btn-sm btn-secondary w-100" onclick="programmePanel.down()">Down</button>
                                </div>
                            </div>
                            <div class="w-100 p-0 mb-0 mt-0">
                                <div class="col p-0"><small>Simulation</small></div>
                                <div class="btn-group col p-0 mb-3">
                                    <button type="button" class="btn-sm btn-secondary w-100" onclick="programmePanel.forward()">Forward</button>
                                    <button type="button" class="btn-sm btn-secondary w-100" onclick="programmePanel.run()">Run</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="settingsPanel" class="d-none col mx-0 p-0 pl-0"  >
                    <div class="row d-flex flex-grow-1 bg-light border my-1 ml-0 mr-0 p-0">
                        <div class="w-100 p-0 m-0 " style="height:1rem;">
                            <div class="row w-100 mx-1 mt-1 mb-0 px-2 " >
                                <div class='w-100 my-0 py-0' 
                                    id='settingsAlertHeadline' role='alert'/>Settings</div>
                                <div class='col alert alert-success w-100 my-0 py-0' style='display:none;' 
                                    id='settingsAlertSuccess' role='alert'/></div>
                                <div class='col alert alert-danger w-100 my-0 py-0' style='display:none;' 
                                    id='settingsAlertError' role='alert'/></div>
                                <div class='col alert alert-warning w-100 my-0 py-0' style='display:none;' 
                                    id='settingsAlertWarning' role='alert'/></div>
                            </div>
                             <div id="calibrationPanel" class="w-100 mt-4 p-3" >
                                 <div class='my-0 py-0'> <small>Calibration</small></div>
                                    <div class="text-nowrap">
                                        For calibrating the robot <br>
                                        <div class="pl-3">- turn on connection<br></div>
                                        <div class="pl-3">- turn on power<br></div>
                                        <div class="pl-3">- use the sliders to adapt the zero position<br></div>
                                        <div class="pl-3">- set the current position<br></div>
                                    </div>
                                    <div class="row my-3">
                                        <div class="form-check form-check-inline px-3">
                                            <input id="calibrationConnection" class="form-check-input" type="checkbox" value="0">
                                            <label class="form-check-label" for="calibrationConnection">
                                                Connect 
                                            </label>                                
                                        </div>
                                        <div class="form-check form-check-inline px-3">
                                            <input id="calibrationPower" class="form-check-input" type="checkbox"  value="0" disabled>
                                            <label class="form-check-label" for="calibrationPower">
                                                Power 
                                            </label>                                
                                        </div>
                                        <div class="btn-group col xp-3 w-100">
                                            <button type="button" class="btn-sm btn-secondary w-100" disabled>Set current position as zero position</button>
                                        </div>
                                    </div>
                            </div>
                        </div>
                        <div id="settingsButtonPanel" class="w-100 row p-0 mx-2 pb-3 d-flex align-self-end ">
                            <div class="w-100 p-0 m-0 w-100" >
                                <div class="col p-0 ">
                                    <small>UI Units</small>
                                    <div class='form-check form-check-inline w-100 my-3'>
                                        <div class="custom-control custom-radio w-100">
                                            <input id="radUnit" type="radio" class="custom-control-input"  name="unitSwitcher" onchange='settingsPanel.setRadUnit(event.target.id)' checked/>
                                            <label class="custom-control-label" for="radUnit">RAD<br><small>use [radiant] for all angles</small></label>
                                        </div>
                                        <div class="custom-control custom-radio  w-100">
                                            <input id="gradUnit" type="radio" class="custom-control-input" name="unitSwitcher" onchange='settingsPanel.setGradUnit(event.target.id)'/>
                                            <label class="custom-control-label" for="gradUnit">GRAD<br><small>use [GRAD] for all angles</small></label>
                                        </div>
                                    </div>
                                    <div class="form-inline">
                                        <div class="form-group">
                                            <label class="col-form-label">Save (and plan) after</label>
                                            <input id="saveAfterSeconds" type="text" class="form-control input-sm col-3 mx-2" placeholder="0" oninput='settingsPanel.setSaveAfterSeconds(event)'/>
                                            <label class="col-form-label">seconds</label>
                                        </div>
                                    </div>
                                </div>
                                <div id="themesSettings" class="w-100 p-0 m-0 my-3 w-100" >
                                    <div class="col mr-3 pl-0 pr-3"><small>UI theme</small>
                                       <input id="themeSlider" type="range" class="custom-range" name="range" min="0" step="1" oninput="settingsPanel.changeTheme(event)">
                                    </div>                         
                                    <div class="col p-0">
                                       <div id="themeScale" class="row mb-5 ml-0 mr-1 p-0">
                                       </div>
                                       <div id="themeDescription" class="alert alert-primary p-1">
                                            Lorem ipsum<br><small> dolor sit amet</small> 
                                       </div>
                                    </div>

                                </div>
                                <div class="col w-100 m-0 p-0">
                                    <div class="col p-0"><small>UI changes</small></div>
                                    <div class="btn-group col p-0">
                                        <button type="button" class="btn-sm btn-secondary w-100" onclick="settingsPanel.apply()">Apply</button>
                                    </div>
                                    <div class="btn-group col p-0">
                                        <button type="button" class="btn-sm btn-secondary w-100" onclick="settingsPanel.factoryReset()">Factory Reset</button>
                                    </div>

                                    <div class="btn-group col p-0">
                                        <button type="button" class="btn-sm btn-primary w-100" onclick="settingsPanel.save()" >Save</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
